"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[69],{1069:function(e,s,t){t.r(s),t.d(s,{default:function(){return N}});var r=t(6768);const n={class:"quiz-view"};function i(e,s,t,i,u,o){const a=(0,r.g2)("QuizMode");return(0,r.uX)(),(0,r.CE)("div",n,[s[0]||(s[0]=(0,r.Lk)("h1",null,"Quiz Mode",-1)),(0,r.bF)(a)])}var u=t(4232),o=t(5130);const a={class:"quiz-container"},l={key:0,class:"loading"},c={key:1,class:"error"},d={key:2,class:"quiz-setup"},p={class:"quiz-options"},h={class:"form-group"},k={class:"form-group"},z={key:3,class:"quiz-results"},v={class:"score-summary"},w={class:"score"},y={class:"percentage"},m={class:"results-breakdown"},q={class:"word"},b={key:0},L={key:1},g={class:"meaning"},Q={class:"answer-status"},C={key:0},f={key:1},A={class:"quiz-actions"},E={key:4,class:"quiz-question"},I={class:"progress-bar"},_={class:"question-counter"},T={class:"question"},X={key:0,class:"question-content"},j={class:"prompt"},S={key:1,class:"question-content"},x={class:"prompt"},V={key:0},M={key:1};function R(e,s,t,n,i,R){return(0,r.uX)(),(0,r.CE)("div",a,[i.loading?((0,r.uX)(),(0,r.CE)("div",l," Loading quiz... ")):i.error?((0,r.uX)(),(0,r.CE)("div",c,(0,u.v_)(i.error),1)):i.quizStarted?i.quizComplete?((0,r.uX)(),(0,r.CE)("div",z,[s[17]||(s[17]=(0,r.Lk)("h2",null,"Quiz Complete!",-1)),(0,r.Lk)("div",v,[(0,r.Lk)("p",w,"Your Score: "+(0,u.v_)(i.correctAnswers)+" / "+(0,u.v_)(R.totalQuestions),1),(0,r.Lk)("p",y,(0,u.v_)(Math.round(i.correctAnswers/R.totalQuestions*100))+"%",1)]),(0,r.Lk)("div",m,[s[16]||(s[16]=(0,r.Lk)("h3",null,"Results Breakdown",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.quizResults,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,class:"result-item"},[(0,r.Lk)("div",{class:(0,u.C4)(["result-card",e.isCorrect?"correct":"incorrect"])},[(0,r.Lk)("p",q,[e.word.kanji?((0,r.uX)(),(0,r.CE)("span",b,(0,u.v_)(e.word.kanji)+" ("+(0,u.v_)(e.word.kana)+")",1)):((0,r.uX)(),(0,r.CE)("span",L,(0,u.v_)(e.word.kana),1))]),(0,r.Lk)("p",g,(0,u.v_)(e.word.meaning),1),(0,r.Lk)("p",Q,[e.isCorrect?((0,r.uX)(),(0,r.CE)("span",C,"✓ Correct")):((0,r.uX)(),(0,r.CE)("span",f,"✗ Incorrect (Your answer: "+(0,u.v_)(e.userAnswer)+")",1))])],2)])))),128))]),(0,r.Lk)("div",A,[(0,r.Lk)("button",{onClick:s[3]||(s[3]=(...e)=>R.resetQuiz&&R.resetQuiz(...e)),class:"reset-btn"},"Take Another Quiz"),(0,r.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>R.goToVocabulary&&R.goToVocabulary(...e)),class:"vocab-btn"},"Go to Vocabulary")])])):((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",I,[(0,r.Lk)("div",{class:"progress",style:(0,u.Tr)({width:i.currentQuestionIndex/R.totalQuestions*100+"%"})},null,4)]),(0,r.Lk)("div",_," Question "+(0,u.v_)(i.currentQuestionIndex+1)+" of "+(0,u.v_)(R.totalQuestions),1),(0,r.Lk)("div",T,[(0,r.Lk)("h3",null,(0,u.v_)(R.questionPrompt),1),"meaning-to-japanese"===i.quizType?((0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("p",j,(0,u.v_)(R.currentQuestion.meaning),1),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=e=>i.userAnswer=e),placeholder:"Enter in Japanese...",onKeyup:s[6]||(s[6]=(0,o.jR)(((...e)=>R.submitAnswer&&R.submitAnswer(...e)),["enter"])),ref:"answerInput"},null,544),[[o.Jo,i.userAnswer]])])):((0,r.uX)(),(0,r.CE)("div",S,[(0,r.Lk)("p",x,[R.currentQuestion.kanji?((0,r.uX)(),(0,r.CE)("span",V,(0,u.v_)(R.currentQuestion.kanji),1)):((0,r.uX)(),(0,r.CE)("span",M,(0,u.v_)(R.currentQuestion.kana),1))]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=e=>i.userAnswer=e),placeholder:"Enter meaning in English...",onKeyup:s[8]||(s[8]=(0,o.jR)(((...e)=>R.submitAnswer&&R.submitAnswer(...e)),["enter"])),ref:"answerInput"},null,544),[[o.Jo,i.userAnswer]])])),(0,r.Lk)("button",{onClick:s[9]||(s[9]=(...e)=>R.submitAnswer&&R.submitAnswer(...e)),class:"submit-btn"},"Submit")])])):((0,r.uX)(),(0,r.CE)("div",d,[s[14]||(s[14]=(0,r.Lk)("h2",null,"Quiz Mode",-1)),s[15]||(s[15]=(0,r.Lk)("p",null,"Test your Japanese vocabulary knowledge!",-1)),(0,r.Lk)("div",p,[(0,r.Lk)("div",h,[s[11]||(s[11]=(0,r.Lk)("label",{for:"quizType"},"Quiz Type",-1)),(0,r.bo)((0,r.Lk)("select",{id:"quizType","onUpdate:modelValue":s[0]||(s[0]=e=>i.quizType=e)},s[10]||(s[10]=[(0,r.Lk)("option",{value:"meaning-to-japanese"},"English to Japanese",-1),(0,r.Lk)("option",{value:"japanese-to-meaning"},"Japanese to English",-1)]),512),[[o.u1,i.quizType]])]),(0,r.Lk)("div",k,[s[13]||(s[13]=(0,r.Lk)("label",{for:"quizSize"},"Number of Questions",-1)),(0,r.bo)((0,r.Lk)("select",{id:"quizSize","onUpdate:modelValue":s[1]||(s[1]=e=>i.quizSize=e)},s[12]||(s[12]=[(0,r.Lk)("option",{value:"5"},"5",-1),(0,r.Lk)("option",{value:"10"},"10",-1),(0,r.Lk)("option",{value:"20"},"20",-1),(0,r.Lk)("option",{value:"all"},"All Words",-1)]),512),[[o.u1,i.quizSize]])])]),(0,r.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>R.startQuiz&&R.startQuiz(...e)),class:"start-btn"},"Start Quiz")]))])}t(4114);var J=t(6519),$={name:"QuizMode",data(){return{loading:!1,error:null,quizStarted:!1,quizComplete:!1,quizType:"japanese-to-meaning",quizSize:"10",vocabulary:[],quizQuestions:[],currentQuestionIndex:0,userAnswer:"",quizResults:[],correctAnswers:0,userId:"1"}},computed:{totalQuestions(){return this.quizQuestions.length},currentQuestion(){return this.quizQuestions[this.currentQuestionIndex]||{}},questionPrompt(){return"meaning-to-japanese"===this.quizType?"What is the Japanese for:":"What is the meaning of:"}},created(){this.fetchVocabulary()},methods:{async fetchVocabulary(){this.loading=!0;try{const e=await J.Q1.getAll();this.vocabulary=e.data}catch(e){this.error="Error loading vocabulary: "+e.message,console.error(e)}finally{this.loading=!1}},startQuiz(){if(0===this.vocabulary.length)return void(this.error="No vocabulary words available for quiz");const e=[...this.vocabulary].sort((()=>.5-Math.random())),s="all"===this.quizSize?this.vocabulary.length:Math.min(parseInt(this.quizSize),this.vocabulary.length);this.quizQuestions=e.slice(0,s),this.quizStarted=!0,this.quizComplete=!1,this.currentQuestionIndex=0,this.quizResults=[],this.correctAnswers=0,this.userAnswer="",this.$nextTick((()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()}))},async submitAnswer(){if(!this.userAnswer.trim())return;const e=this.currentQuestion;let s=!1;if("meaning-to-japanese"===this.quizType){const t=this.userAnswer.trim().toLowerCase(),r=e.kana.toLowerCase(),n=e.kanji?e.kanji.toLowerCase():"";s=t===r||t===n}else{const t=this.userAnswer.trim().toLowerCase(),r=e.meaning.toLowerCase();s=t===r}this.quizResults.push({word:e,userAnswer:this.userAnswer,isCorrect:s}),s&&this.correctAnswers++,this.updateProgress(e._id,s),this.currentQuestionIndex<this.totalQuestions-1?(this.currentQuestionIndex++,this.userAnswer="",this.$nextTick((()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()}))):this.quizComplete=!0},async updateProgress(e,s){try{await J.L7.updateProgress({userId:this.userId,vocabularyId:e,isCorrect:s})}catch(t){console.error("Error updating progress:",t)}},resetQuiz(){this.quizStarted=!1,this.quizComplete=!1,this.quizResults=[]},goToVocabulary(){this.$router.push("/vocabulary")}}},P=t(1241);const U=(0,P.A)($,[["render",R],["__scopeId","data-v-7462c766"]]);var K=U,W={name:"QuizView",components:{QuizMode:K}};const F=(0,P.A)(W,[["render",i],["__scopeId","data-v-6c22dc1c"]]);var N=F}}]);
//# sourceMappingURL=69.d6daebc7.js.map