"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[24],{9024:function(e,s,t){t.r(s),t.d(s,{default:function(){return oe}});var n=t(6768);const r={class:"quiz-view"};function i(e,s,t,i,u,a){const o=(0,n.g2)("QuizMode");return(0,n.uX)(),(0,n.CE)("div",r,[s[0]||(s[0]=(0,n.Lk)("h1",null,"Quiz Mode",-1)),(0,n.bF)(o)])}var u=t(4232),a=t(5130);const o={class:"quiz-container"},c={key:0,class:"loading"},l={key:1,class:"error"},d={key:2,class:"quiz-setup"},k={class:"quiz-options"},p={class:"form-group"},h={class:"form-group"},v={key:3,class:"quiz-results"},b={class:"score-summary"},w={class:"score"},z={class:"percentage"},m={class:"results-breakdown"},y={class:"word"},Q={key:0},L={key:1},g={class:"meaning"},C={class:"answer-status"},q={key:0},f={key:1},E={class:"quiz-actions"},A={key:4,class:"quiz-question"},_={class:"progress-bar"},x={class:"question-counter"},X={key:0,class:"question"},I={key:0,class:"question-content"},j={class:"prompt"},F={key:1,class:"question-content"},T={class:"prompt"},S={key:0},V={key:1},R={key:1,class:"feedback"},M={class:"feedback-header"},J={key:0},$={key:1},P={class:"feedback-content"},W={class:"word-details"},U={class:"word"},K={key:0},N={key:1},Y={class:"meaning"},B={key:0,class:"user-answer"},G={class:"incorrect-text"},D={class:"correct-text"},H={key:1,class:"example"},O={class:"japanese-text"},Z={class:"english-text"};function ee(e,s,t,r,i,ee){return(0,n.uX)(),(0,n.CE)("div",o,[i.loading?((0,n.uX)(),(0,n.CE)("div",c," Loading quiz... ")):i.error?((0,n.uX)(),(0,n.CE)("div",l,(0,u.v_)(i.error),1)):i.quizStarted?i.quizComplete?((0,n.uX)(),(0,n.CE)("div",v,[s[18]||(s[18]=(0,n.Lk)("h2",null,"Quiz Complete!",-1)),(0,n.Lk)("div",b,[(0,n.Lk)("p",w,"Your Score: "+(0,u.v_)(i.correctAnswers)+" / "+(0,u.v_)(ee.totalQuestions),1),(0,n.Lk)("p",z,(0,u.v_)(Math.round(i.correctAnswers/ee.totalQuestions*100))+"%",1)]),(0,n.Lk)("div",m,[s[17]||(s[17]=(0,n.Lk)("h3",null,"Results Breakdown",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.quizResults,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"result-item"},[(0,n.Lk)("div",{class:(0,u.C4)(["result-card",e.isCorrect?"correct":"incorrect"])},[(0,n.Lk)("p",y,[e.word.kanji?((0,n.uX)(),(0,n.CE)("span",Q,(0,u.v_)(e.word.kanji)+" ("+(0,u.v_)(e.word.kana)+")",1)):((0,n.uX)(),(0,n.CE)("span",L,(0,u.v_)(e.word.kana),1))]),(0,n.Lk)("p",g,(0,u.v_)(e.word.meaning),1),(0,n.Lk)("p",C,[e.isCorrect?((0,n.uX)(),(0,n.CE)("span",q,"✓ Correct")):((0,n.uX)(),(0,n.CE)("span",f,"✗ Incorrect (Your answer: "+(0,u.v_)(e.userAnswer)+")",1))])],2)])))),128))]),(0,n.Lk)("div",E,[(0,n.Lk)("button",{onClick:s[3]||(s[3]=(...e)=>ee.resetQuiz&&ee.resetQuiz(...e)),class:"reset-btn"},"Take Another Quiz"),(0,n.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>ee.goToVocabulary&&ee.goToVocabulary(...e)),class:"vocab-btn"},"Go to Vocabulary")])])):((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("div",_,[(0,n.Lk)("div",{class:"progress",style:(0,u.Tr)({width:i.currentQuestionIndex/ee.totalQuestions*100+"%"})},null,4)]),(0,n.Lk)("div",x," Question "+(0,u.v_)(i.currentQuestionIndex+1)+" of "+(0,u.v_)(ee.totalQuestions),1),i.showingFeedback?((0,n.uX)(),(0,n.CE)("div",R,[(0,n.Lk)("div",{class:(0,u.C4)(["feedback-card",i.currentFeedback.isCorrect?"correct":"incorrect"])},[(0,n.Lk)("div",M,[i.currentFeedback.isCorrect?((0,n.uX)(),(0,n.CE)("h3",J,"✓ Correct!")):((0,n.uX)(),(0,n.CE)("h3",$,"✗ Incorrect"))]),(0,n.Lk)("div",P,[(0,n.Lk)("div",W,[(0,n.Lk)("p",U,[ee.currentQuestion.kanji?((0,n.uX)(),(0,n.CE)("span",K,(0,u.v_)(ee.currentQuestion.kanji)+" ("+(0,u.v_)(ee.currentQuestion.kana)+")",1)):((0,n.uX)(),(0,n.CE)("span",N,(0,u.v_)(ee.currentQuestion.kana),1))]),(0,n.Lk)("p",Y,(0,u.v_)(ee.currentQuestion.meaning),1)]),i.currentFeedback.isCorrect?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("p",null,[s[19]||(s[19]=(0,n.eW)("Your answer: ")),(0,n.Lk)("span",G,(0,u.v_)(i.currentFeedback.userAnswer),1)]),(0,n.Lk)("p",null,[s[20]||(s[20]=(0,n.eW)("Correct answer: ")),(0,n.Lk)("span",D,(0,u.v_)("meaning-to-japanese"===i.quizType?ee.currentQuestion.kana:ee.currentQuestion.meaning),1)])])),ee.currentQuestion.examples&&ee.currentQuestion.examples.length?((0,n.uX)(),(0,n.CE)("div",H,[s[21]||(s[21]=(0,n.Lk)("p",{class:"example-label"},"Example:",-1)),(0,n.Lk)("p",O,(0,u.v_)(ee.currentQuestion.examples[0].japanese),1),(0,n.Lk)("p",Z,(0,u.v_)(ee.currentQuestion.examples[0].english),1)])):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{onClick:s[10]||(s[10]=(...e)=>ee.nextQuestion&&ee.nextQuestion(...e)),class:"next-btn"},(0,u.v_)(i.currentQuestionIndex<ee.totalQuestions-1?"Next Question":"View Results"),1)],2)])):((0,n.uX)(),(0,n.CE)("div",X,[(0,n.Lk)("h3",null,(0,u.v_)(ee.questionPrompt),1),"meaning-to-japanese"===i.quizType?((0,n.uX)(),(0,n.CE)("div",I,[(0,n.Lk)("p",j,(0,u.v_)(ee.currentQuestion.meaning),1),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=e=>i.userAnswer=e),placeholder:"Enter in Japanese...",onKeyup:s[6]||(s[6]=(0,a.jR)(((...e)=>ee.submitAnswer&&ee.submitAnswer(...e)),["enter"])),ref:"answerInput"},null,544),[[a.Jo,i.userAnswer]])])):((0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("p",T,[ee.currentQuestion.kanji?((0,n.uX)(),(0,n.CE)("span",S,(0,u.v_)(ee.currentQuestion.kanji),1)):((0,n.uX)(),(0,n.CE)("span",V,(0,u.v_)(ee.currentQuestion.kana),1))]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=e=>i.userAnswer=e),placeholder:"Enter meaning in English...",onKeyup:s[8]||(s[8]=(0,a.jR)(((...e)=>ee.submitAnswer&&ee.submitAnswer(...e)),["enter"])),ref:"answerInput"},null,544),[[a.Jo,i.userAnswer]])])),(0,n.Lk)("button",{onClick:s[9]||(s[9]=(...e)=>ee.submitAnswer&&ee.submitAnswer(...e)),class:"submit-btn"},"Submit")]))])):((0,n.uX)(),(0,n.CE)("div",d,[s[15]||(s[15]=(0,n.Lk)("h2",null,"Quiz Mode",-1)),s[16]||(s[16]=(0,n.Lk)("p",null,"Test your Japanese vocabulary knowledge!",-1)),(0,n.Lk)("div",k,[(0,n.Lk)("div",p,[s[12]||(s[12]=(0,n.Lk)("label",{for:"quizType"},"Quiz Type",-1)),(0,n.bo)((0,n.Lk)("select",{id:"quizType","onUpdate:modelValue":s[0]||(s[0]=e=>i.quizType=e)},s[11]||(s[11]=[(0,n.Lk)("option",{value:"meaning-to-japanese"},"English to Japanese",-1),(0,n.Lk)("option",{value:"japanese-to-meaning"},"Japanese to English",-1)]),512),[[a.u1,i.quizType]])]),(0,n.Lk)("div",h,[s[14]||(s[14]=(0,n.Lk)("label",{for:"quizSize"},"Number of Questions",-1)),(0,n.bo)((0,n.Lk)("select",{id:"quizSize","onUpdate:modelValue":s[1]||(s[1]=e=>i.quizSize=e)},s[13]||(s[13]=[(0,n.Lk)("option",{value:"5"},"5",-1),(0,n.Lk)("option",{value:"10"},"10",-1),(0,n.Lk)("option",{value:"20"},"20",-1),(0,n.Lk)("option",{value:"all"},"All Words",-1)]),512),[[a.u1,i.quizSize]])])]),(0,n.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>ee.startQuiz&&ee.startQuiz(...e)),class:"start-btn"},"Start Quiz")]))])}t(4114);var se=t(6519),te={name:"QuizMode",data(){return{loading:!1,error:null,quizStarted:!1,quizComplete:!1,quizType:"japanese-to-meaning",quizSize:"10",vocabulary:[],quizQuestions:[],currentQuestionIndex:0,userAnswer:"",quizResults:[],correctAnswers:0,userId:"1",showingFeedback:!1,currentFeedback:null}},computed:{totalQuestions(){return this.quizQuestions.length},currentQuestion(){return this.quizQuestions[this.currentQuestionIndex]||{}},questionPrompt(){return"meaning-to-japanese"===this.quizType?"What is the Japanese for:":"What is the meaning of:"}},created(){this.fetchVocabulary()},methods:{async fetchVocabulary(){this.loading=!0;try{const e=await se.Q1.getAll();this.vocabulary=e.data}catch(e){this.error="Error loading vocabulary: "+e.message,console.error(e)}finally{this.loading=!1}},startQuiz(){if(0===this.vocabulary.length)return void(this.error="No vocabulary words available for quiz");const e=[...this.vocabulary].sort((()=>.5-Math.random())),s="all"===this.quizSize?this.vocabulary.length:Math.min(parseInt(this.quizSize),this.vocabulary.length);this.quizQuestions=e.slice(0,s),this.quizStarted=!0,this.quizComplete=!1,this.currentQuestionIndex=0,this.quizResults=[],this.correctAnswers=0,this.userAnswer="",this.showingFeedback=!1,this.currentFeedback=null,this.$nextTick((()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()}))},async submitAnswer(){if(!this.userAnswer.trim()||this.showingFeedback)return;const e=this.currentQuestion;let s=!1;if("meaning-to-japanese"===this.quizType){const t=this.userAnswer.trim().toLowerCase(),n=e.kana.toLowerCase(),r=e.kanji?e.kanji.toLowerCase():"";s=t===n||t===r}else{const t=this.userAnswer.trim().toLowerCase(),n=e.meaning.toLowerCase();s=t===n}const t={word:e,userAnswer:this.userAnswer,isCorrect:s};this.quizResults.push(t),this.currentFeedback=t,this.showingFeedback=!0,s&&this.correctAnswers++,this.updateProgress(e._id,s)},nextQuestion(){this.showingFeedback=!1,this.currentFeedback=null,this.currentQuestionIndex<this.totalQuestions-1?(this.currentQuestionIndex++,this.userAnswer="",this.$nextTick((()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()}))):this.quizComplete=!0},async updateProgress(e,s){try{await se.L7.updateProgress({userId:this.userId,vocabularyId:e,isCorrect:s})}catch(t){console.error("Error updating progress:",t)}},resetQuiz(){this.quizStarted=!1,this.quizComplete=!1,this.quizResults=[],this.showingFeedback=!1,this.currentFeedback=null},goToVocabulary(){this.$router.push("/vocabulary")}}},ne=t(1241);const re=(0,ne.A)(te,[["render",ee],["__scopeId","data-v-33c6bd76"]]);var ie=re,ue={name:"QuizView",components:{QuizMode:ie}};const ae=(0,ne.A)(ue,[["render",i],["__scopeId","data-v-6c22dc1c"]]);var oe=ae}}]);
//# sourceMappingURL=24.d1b7a02b.js.map