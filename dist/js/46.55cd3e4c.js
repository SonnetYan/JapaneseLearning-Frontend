"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[46],{6046:function(a,s,e){e.r(s),e.d(s,{default:function(){return P}});var r=e(6768),t=e(4232),l=e(5130);const i={class:"flashcard-view"},d={key:0,class:"loading"},n={key:1,class:"error"},c={key:2,class:"flashcard-setup"},o={class:"form-group"},h={class:"form-group"},u={key:0,class:"form-group"},p={key:3,class:"flashcard-session"},k={class:"progress-bar"},f={class:"progress-text"},v={class:"flashcard-front"},C={key:0,class:"japanese"},g={key:0,class:"kanji"},m={class:"kana"},L={key:1,class:"meaning"},y={class:"flashcard-back"},b={key:0,class:"meaning"},F={key:1,class:"japanese"},x={key:0,class:"kanji"},w={class:"kana"},E={key:2,class:"examples"},_={class:"example"},j={class:"japanese-example"},I={class:"english-example"},T={key:0,class:"flashcard-actions"},X={key:4,class:"flashcard-complete"},D={class:"stats"},S={class:"stat-item"},R={class:"stat-value"},V={class:"stat-item"},M={class:"stat-value"},Q={class:"stat-item"},W={class:"stat-value"},A={class:"stat-item"},B={class:"stat-value"},N={class:"flashcard-complete-actions"};function U(a,s,e,U,G,H){const J=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",i,[s[22]||(s[22]=(0,r.Lk)("h1",null,"Flashcard Review",-1)),G.loading?((0,r.uX)(),(0,r.CE)("div",d,"Loading...")):G.error?((0,r.uX)(),(0,r.CE)("div",n,(0,t.v_)(G.error),1)):G.flashcardStarted?G.flashcardStarted&&!G.flashcardComplete?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("div",k,[(0,r.Lk)("div",{class:"progress",style:(0,t.Tr)({width:G.currentCardIndex/G.flashcards.length*100+"%"})},null,4),(0,r.Lk)("div",f,(0,t.v_)(G.currentCardIndex)+" / "+(0,t.v_)(G.flashcards.length),1)]),(0,r.bF)(l.eB,{name:G.slideDirection,mode:"out-in"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("div",{key:G.currentCardIndex,class:"flashcard-container",onClick:s[4]||(s[4]=(...a)=>H.flipCard&&H.flipCard(...a))},[(0,r.Lk)("div",{class:(0,t.C4)(["flashcard",{flipped:G.cardFlipped}])},[(0,r.Lk)("div",v,["japanese-to-meaning"===G.currentDirection?((0,r.uX)(),(0,r.CE)("div",C,[H.currentCard.kanji?((0,r.uX)(),(0,r.CE)("div",g,(0,t.v_)(H.currentCard.kanji),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",m,(0,t.v_)(H.currentCard.kana),1)])):((0,r.uX)(),(0,r.CE)("div",L,(0,t.v_)(H.currentCard.meaning),1))]),(0,r.Lk)("div",y,["japanese-to-meaning"===G.currentDirection?((0,r.uX)(),(0,r.CE)("div",b,(0,t.v_)(H.currentCard.meaning),1)):((0,r.uX)(),(0,r.CE)("div",F,[H.currentCard.kanji?((0,r.uX)(),(0,r.CE)("div",x,(0,t.v_)(H.currentCard.kanji),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",w,(0,t.v_)(H.currentCard.kana),1)])),H.currentCard.examples&&H.currentCard.examples.length?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",_,[(0,r.Lk)("div",j,(0,t.v_)(H.currentCard.examples[0].japanese),1),(0,r.Lk)("div",I,(0,t.v_)(H.currentCard.examples[0].english),1)])])):(0,r.Q3)("",!0)])],2)]))])),_:1},8,["name"]),G.cardFlipped?((0,r.uX)(),(0,r.CE)("div",T,[(0,r.Lk)("button",{onClick:s[5]||(s[5]=a=>H.rateCard("hard")),class:"hard-btn"},"Hard"),(0,r.Lk)("button",{onClick:s[6]||(s[6]=a=>H.rateCard("good")),class:"good-btn"},"Good"),(0,r.Lk)("button",{onClick:s[7]||(s[7]=a=>H.rateCard("easy")),class:"easy-btn"},"Easy")])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",X,[s[21]||(s[21]=(0,r.Lk)("h2",null,"Flashcard Session Complete!",-1)),(0,r.Lk)("div",D,[(0,r.Lk)("div",S,[s[16]||(s[16]=(0,r.Lk)("span",{class:"stat-label"},"Total Cards:",-1)),(0,r.Lk)("span",R,(0,t.v_)(G.flashcards.length),1)]),(0,r.Lk)("div",V,[s[17]||(s[17]=(0,r.Lk)("span",{class:"stat-label"},"Easy:",-1)),(0,r.Lk)("span",M,(0,t.v_)(G.stats.easy),1)]),(0,r.Lk)("div",Q,[s[18]||(s[18]=(0,r.Lk)("span",{class:"stat-label"},"Good:",-1)),(0,r.Lk)("span",W,(0,t.v_)(G.stats.good),1)]),(0,r.Lk)("div",A,[s[19]||(s[19]=(0,r.Lk)("span",{class:"stat-label"},"Hard:",-1)),(0,r.Lk)("span",B,(0,t.v_)(G.stats.hard),1)])]),(0,r.Lk)("div",N,[(0,r.Lk)("button",{onClick:s[8]||(s[8]=(...a)=>H.resetFlashcards&&H.resetFlashcards(...a)),class:"reset-btn"},"Start New Session"),(0,r.bF)(J,{to:"/vocabulary",class:"vocab-btn"},{default:(0,r.k6)((()=>s[20]||(s[20]=[(0,r.eW)("Back to Vocabulary")]))),_:1})])])):((0,r.uX)(),(0,r.CE)("div",c,[s[15]||(s[15]=(0,r.Lk)("h2",null,"Flashcard Options",-1)),(0,r.Lk)("div",o,[s[10]||(s[10]=(0,r.Lk)("label",{for:"flashcard-type"},"Flashcard Type",-1)),(0,r.bo)((0,r.Lk)("select",{id:"flashcard-type","onUpdate:modelValue":s[0]||(s[0]=a=>G.flashcardType=a)},s[9]||(s[9]=[(0,r.Lk)("option",{value:"japanese-to-meaning"},"Japanese to Meaning",-1),(0,r.Lk)("option",{value:"meaning-to-japanese"},"Meaning to Japanese",-1),(0,r.Lk)("option",{value:"mixed"},"Mixed (Both Directions)",-1)]),512),[[l.u1,G.flashcardType]])]),(0,r.Lk)("div",h,[s[12]||(s[12]=(0,r.Lk)("label",{for:"flashcard-source"},"Flashcard Source",-1)),(0,r.bo)((0,r.Lk)("select",{id:"flashcard-source","onUpdate:modelValue":s[1]||(s[1]=a=>G.flashcardSource=a)},s[11]||(s[11]=[(0,r.Lk)("option",{value:"all"},"All Vocabulary",-1),(0,r.Lk)("option",{value:"due"},"Due for Review",-1)]),512),[[l.u1,G.flashcardSource]])]),"all"===G.flashcardSource?((0,r.uX)(),(0,r.CE)("div",u,[s[14]||(s[14]=(0,r.Lk)("label",{for:"flashcard-count"},"Number of Flashcards",-1)),(0,r.bo)((0,r.Lk)("select",{id:"flashcard-count","onUpdate:modelValue":s[2]||(s[2]=a=>G.flashcardCount=a)},s[13]||(s[13]=[(0,r.Lk)("option",{value:"10"},"10",-1),(0,r.Lk)("option",{value:"20"},"20",-1),(0,r.Lk)("option",{value:"30"},"30",-1),(0,r.Lk)("option",{value:"all"},"All",-1)]),512),[[l.u1,G.flashcardCount]])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:s[3]||(s[3]=(...a)=>H.startFlashcards&&H.startFlashcards(...a)),class:"start-btn"},"Start Flashcards")]))])}e(8111),e(1701);var G=e(6519),H={name:"FlashcardView",data(){return{loading:!1,error:null,vocabulary:[],dueForReview:[],flashcardStarted:!1,flashcardComplete:!1,flashcardType:"japanese-to-meaning",flashcardSource:"all",flashcardCount:"10",flashcards:[],currentCardIndex:0,cardFlipped:!1,currentDirection:"japanese-to-meaning",stats:{easy:0,good:0,hard:0},userId:"1",isTransitioning:!1,slideDirection:"card-slide-left"}},computed:{currentCard(){return this.flashcards[this.currentCardIndex]||{}}},created(){this.fetchVocabulary(),this.fetchDueWords()},methods:{async fetchVocabulary(){this.loading=!0;try{const a=await G.Q1.getAll();this.vocabulary=a.data}catch(a){this.error="Error loading vocabulary: "+a.message,console.error(a)}finally{this.loading=!1}},async fetchDueWords(){try{const a=await G.L7.getReviewWords(this.userId);this.dueForReview=a.data.map((a=>a.vocabularyId))}catch(a){console.error("Error fetching due words:",a),this.dueForReview=[]}},startFlashcards(){let a=[];if(a="due"===this.flashcardSource&&this.dueForReview.length>0?this.dueForReview:this.vocabulary,0===a.length)return void(this.error="No vocabulary words available for flashcards");const s=[...a].sort((()=>.5-Math.random())),e="all"===this.flashcardCount?a.length:Math.min(parseInt(this.flashcardCount),a.length);this.flashcards=s.slice(0,e),"mixed"===this.flashcardType?(this.flashcards=this.flashcards.map((a=>({...a,direction:Math.random()>.5?"japanese-to-meaning":"meaning-to-japanese"}))),this.currentDirection=this.flashcards[0].direction):this.currentDirection=this.flashcardType,this.currentCardIndex=0,this.cardFlipped=!1,this.flashcardStarted=!0,this.flashcardComplete=!1,this.stats={easy:0,good:0,hard:0},this.slideDirection="card-slide-left"},flipCard(){this.cardFlipped||this.isTransitioning||(this.cardFlipped=!0)},async rateCard(a){if(this.isTransitioning)return;let s;this.isTransitioning=!0,this.stats[a]++;let e=!0;switch(a){case"easy":s="mastered";break;case"good":s="reviewing";break;case"hard":s="learning",e=!1;break;default:s="learning"}try{await G.L7.updateProgress({userId:this.userId,vocabularyId:this.currentCard._id,status:s,isCorrect:e})}catch(r){console.error("Error updating progress:",r)}if(this.currentCardIndex>=this.flashcards.length-1)return this.flashcardComplete=!0,void(this.isTransitioning=!1);this.slideDirection="card-slide-left",setTimeout((()=>{this.currentCardIndex++,"mixed"===this.flashcardType&&(this.currentDirection=this.flashcards[this.currentCardIndex].direction),this.cardFlipped=!1,this.isTransitioning=!1}),300)},resetFlashcards(){this.flashcardStarted=!1,this.flashcardComplete=!1,this.currentCardIndex=0,this.cardFlipped=!1,this.isTransitioning=!1,this.fetchDueWords()}}},J=e(1241);const O=(0,J.A)(H,[["render",U],["__scopeId","data-v-13d7c332"]]);var P=O}}]);
//# sourceMappingURL=46.55cd3e4c.js.map